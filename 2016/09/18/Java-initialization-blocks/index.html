<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Java Initialization Blocks | Accessun&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Initialization blocks in Java are used for initializing when a class is loaded or an instance is instantiated. Java has two kinds of initialization block, namely, static initialization block and insta">
<meta property="og:type" content="article">
<meta property="og:title" content="Java Initialization Blocks">
<meta property="og:url" content="https://accessun.github.io/2016/09/18/Java-initialization-blocks/index.html">
<meta property="og:site_name" content="Accessun's Blog">
<meta property="og:description" content="Initialization blocks in Java are used for initializing when a class is loaded or an instance is instantiated. Java has two kinds of initialization block, namely, static initialization block and insta">
<meta property="og:updated_time" content="2016-09-21T11:30:12.154Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Java Initialization Blocks">
<meta name="twitter:description" content="Initialization blocks in Java are used for initializing when a class is loaded or an instance is instantiated. Java has two kinds of initialization block, namely, static initialization block and insta">
  
    <link rel="alternate" href="/atom.xml" title="Accessun&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Accessun&#39;s Blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="Flux RSS"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Rechercher"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://accessun.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Java-initialization-blocks" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/09/18/Java-initialization-blocks/" class="article-date">
  <time datetime="2016-09-18T14:10:32.000Z" itemprop="datePublished">2016-09-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Java Initialization Blocks
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Initialization blocks in Java are used for initializing when a class is loaded or an instance is instantiated. Java has two kinds of initialization block, namely, static initialization block and instance initialization block (or non-static initializer block). These two kinds of block may seem a little bit odd when one first comes across them.</p>
<p>We know that static fields in a class can be simply initialized by assigning them on declaration, like the following.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">static</span> T var = ...;</div></pre></td></tr></table></figure>
<p>But sometimes, it is required that some work needs to be done before they are assigned to those fields. It is quite handy to use static initialization blocks in these circumstances. In the <code>DemoUtil</code> class below, the code that deal with initialization is specified within the pair of curly braces after the <code>static</code> key word. Before the assignment to the static field <code>var</code> of type <code>T</code> is carried out, some pre-precessing work is done before the assignment.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DemoUtil</span> </span>&#123;</div><div class="line">    <span class="keyword">static</span> T var;</div><div class="line"></div><div class="line">    <span class="keyword">static</span> &#123;</div><div class="line">        <span class="comment">// some pre-processing to var before assignment</span></div><div class="line">        var = ...;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">// other code comes below</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Instance initialization blocks, or non-static initializer blocks are used in a very similar fashion. In the following <code>Demo</code> class, you can directly perform some other operation before assigning value to the instance field <code>var</code> of type <code>T</code>.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>&#123;</div><div class="line">    T var;</div><div class="line"></div><div class="line">    &#123;</div><div class="line">        <span class="comment">// some pre-processing and instance field assignment</span></div><div class="line">        var = ...;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">// other code comes below</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>It seems that we can also achieve the same goal by using constructor in the <code>Demo</code> class. Then, what is the difference between constructor and instance initialization block?</p>
<p>Sometimes, we may have multiple constructors overloaded.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="title">Demo</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="comment">// routine B</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="title">Demo</span><span class="params">(<span class="keyword">boolean</span> flag)</span> </span>&#123;</div><div class="line">    <span class="comment">// routine C</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="title">Demo</span><span class="params">(String info, <span class="keyword">boolean</span> flag)</span> </span>&#123;</div><div class="line">    <span class="comment">// routine D</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>And in some cases, we want to share common routine among all constructors. More specifically, we want common routine, say <code>routine A</code>, to be performed before all the routines in each constructor. Then you can put <code>routine A</code> into instance initialization block. <code>routine A</code> will then be copied into the beginning part of each constructor on compiling. However, it makes no difference if you cut the code in the constructor and paste it into an instance initialization block when your class only has one single constructor.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="title">Demo</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="comment">// &lt;-- [routine A will be copied here on compiling]</span></div><div class="line">    <span class="comment">// routine B</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="title">Demo</span><span class="params">(<span class="keyword">boolean</span> flag)</span> </span>&#123;</div><div class="line">    <span class="comment">// &lt;-- [routine A will be copied here on compiling]</span></div><div class="line">    <span class="comment">// routine C</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="title">Demo</span><span class="params">(String info, <span class="keyword">boolean</span> flag)</span> </span>&#123;</div><div class="line">    <span class="comment">// &lt;-- [routine A will be copied here on compiling]</span></div><div class="line">    <span class="comment">// routine D</span></div><div class="line">&#125;</div><div class="line"></div><div class="line">&#123;</div><div class="line">    <span class="comment">// routine A</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="Execution-order-of-multiple-initialization-blocks"><a href="#Execution-order-of-multiple-initialization-blocks" class="headerlink" title="Execution order of multiple initialization blocks"></a>Execution order of multiple initialization blocks</h3><p>When multiple initialization blocks and constructors are simultaneously present in a class, it is important that we should be aware of the order of execution of each code block. The following is an example designed to clarify this point.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Temp</span> </span>&#123;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Temp</span><span class="params">()</span> </span>&#123;</div><div class="line">        System.out.println(<span class="string">"Temp()"</span>);</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Temp</span><span class="params">(<span class="keyword">int</span> val)</span> </span>&#123;</div><div class="line">        System.out.println(<span class="string">"Temp(int val)"</span>);</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">static</span> &#123;</div><div class="line">        System.out.println(<span class="string">"First static init block"</span>);</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">static</span> &#123;</div><div class="line">        System.out.println(<span class="string">"Second static init block"</span>);</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    &#123;</div><div class="line">        System.out.println(<span class="string">"First non-static init block"</span>);</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    &#123;</div><div class="line">        System.out.println(<span class="string">"Second non-static init block"</span>);</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">        <span class="keyword">new</span> Temp();</div><div class="line">        System.out.println(<span class="string">"===================="</span>);</div><div class="line">        <span class="keyword">new</span> Temp();</div><div class="line">        System.out.println(<span class="string">"===================="</span>);</div><div class="line">        <span class="keyword">new</span> Temp(<span class="number">0</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">// output</div><div class="line">First static init block</div><div class="line">Second static init block</div><div class="line">First non-static init block</div><div class="line">Second non-static init block</div><div class="line">Temp()</div><div class="line">====================</div><div class="line">First non-static init block</div><div class="line">Second non-static init block</div><div class="line">Temp()</div><div class="line">====================</div><div class="line">First non-static init block</div><div class="line">Second non-static init block</div><div class="line">Temp(int val)</div></pre></td></tr></table></figure>
<p>In this example code, we can observe that once the class is loaded, the code within the static block is immediately executed and is executed only once. When multiple static blocks are present, they are executed in the order of their presence in the class. The code in instance initialization blocks are called each time before any constructor is called. And they are called every time on every instance initialization. (This is because the compiler just copies the code in the instance initialization block into every constructor of the class when the source code is compiled to Java byte code.) The order of execution of instance initialization block is also in accordance with their presence in the class.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://accessun.github.io/2016/09/18/Java-initialization-blocks/" data-id="ciwt1gn040002pog0te9wqycs" class="article-share-link">Partager</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/">Java</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2016/10/16/Make-a-Tape-Photo-by-CSS/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Récent</strong>
      <div class="article-nav-title">
        
          Make a Tape Photo by CSS
        
      </div>
    </a>
  
  
    <a href="/2016/08/31/A-simple-demonstration-of-data-relation-design-using-Entity-Attribute-Value-model/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Ancien</strong>
      <div class="article-nav-title">A simple demonstration of data relation design using Entity-Attribute-Value model</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Mot-clés</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS/">CSS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Front-end/">Front-end</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Gulp/">Gulp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/">Java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MongoDB/">MongoDB</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL/">MySQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SQL/">SQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/database/">database</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/maven/">maven</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Nuage de mot-clés</h3>
    <div class="widget tagcloud">
      <a href="/tags/CSS/" style="font-size: 10px;">CSS</a> <a href="/tags/Front-end/" style="font-size: 20px;">Front-end</a> <a href="/tags/Gulp/" style="font-size: 10px;">Gulp</a> <a href="/tags/Java/" style="font-size: 10px;">Java</a> <a href="/tags/MongoDB/" style="font-size: 10px;">MongoDB</a> <a href="/tags/MySQL/" style="font-size: 10px;">MySQL</a> <a href="/tags/SQL/" style="font-size: 10px;">SQL</a> <a href="/tags/database/" style="font-size: 10px;">database</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/maven/" style="font-size: 10px;">maven</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">December 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">November 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">October 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">September 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">August 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">July 2016</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Articles récents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/12/17/Workable-Steps-to-Set-up-Maven-in-Eclipse/">Workable Steps to Set up Maven in Eclipse</a>
          </li>
        
          <li>
            <a href="/2016/11/18/Setting-up-a-Simple-Automated-Front-end-Dev-Workflow/">Setting up a Simple Automated Front-end Dev Workflow</a>
          </li>
        
          <li>
            <a href="/2016/10/16/Make-a-Tape-Photo-by-CSS/">Make a Tape Photo by CSS</a>
          </li>
        
          <li>
            <a href="/2016/09/18/Java-initialization-blocks/">Java Initialization Blocks</a>
          </li>
        
          <li>
            <a href="/2016/08/31/A-simple-demonstration-of-data-relation-design-using-Entity-Attribute-Value-model/">A simple demonstration of data relation design using Entity-Attribute-Value model</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 Xin Sun<br>
      Propulsé by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>